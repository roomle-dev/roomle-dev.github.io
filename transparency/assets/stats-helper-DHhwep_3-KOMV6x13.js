import{fJ as T,z as C}from"./index-B6gMdnHJ.js";function S(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var v={exports:{}},R=v.exports,g;function E(){return g||(g=1,(function(u,t){(function(s,i){u.exports=i()})(R,function(){var s=function(){function i(d){return e.appendChild(d.dom),d}function n(d){for(var h=0;h<e.children.length;h++)e.children[h].style.display=h===d?"block":"none";o=d}var o=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(d){d.preventDefault(),n(++o%e.children.length)},!1);var p=(performance||Date).now(),r=p,l=0,y=i(new s.Panel("FPS","#0ff","#002")),_=i(new s.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=i(new s.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:i,showPanel:n,begin:function(){p=(performance||Date).now()},end:function(){l++;var d=(performance||Date).now();if(_.update(d-p,200),d>r+1e3&&(y.update(1e3*l/(d-r),100),r=d,l=0,w)){var h=performance.memory;w.update(h.usedJSHeapSize/1048576,h.jsHeapSizeLimit/1048576)}return d},update:function(){p=this.end()},domElement:e,setMode:n}};return s.Panel=function(i,n,o){var e=1/0,p=0,r=Math.round,l=r(window.devicePixelRatio||1),y=80*l,_=48*l,w=3*l,d=2*l,h=3*l,f=15*l,m=74*l,P=30*l,x=document.createElement("canvas");x.width=y,x.height=_,x.style.cssText="width:80px;height:48px";var a=x.getContext("2d");return a.font="bold "+9*l+"px Helvetica,Arial,sans-serif",a.textBaseline="top",a.fillStyle=o,a.fillRect(0,0,y,_),a.fillStyle=n,a.fillText(i,w,d),a.fillRect(h,f,m,P),a.fillStyle=o,a.globalAlpha=.9,a.fillRect(h,f,m,P),{dom:x,update:function(b,z){e=Math.min(e,b),p=Math.max(p,b),a.fillStyle=o,a.globalAlpha=1,a.fillRect(0,0,y,f),a.fillStyle=n,a.fillText(r(b)+" "+i+" ("+r(e)+"-"+r(p)+")",w,d),a.drawImage(x,h+l,f,m-l,P,h,f,m-l,P),a.fillRect(h+m-l,f,l,P),a.fillStyle=o,a.globalAlpha=.9,a.fillRect(h+m-l,f,l,r((1-b/z)*P))}}},s})})(v)),v.exports}var H=E();const c=S(H);var M=Object.defineProperty,I=(u,t,s,i)=>{for(var n=void 0,o=u.length-1,e;o>=0;o--)(e=u[o])&&(n=e(t,s,n)||n);return n&&M(t,s,n),n};class O{constructor(){this._statPanels=[],this._init()}_init(){let t=new c;t.showPanel(0),t.dom.style.cssText="position:absolute;top:0px;left:0px;z-index:110;",document.body.appendChild(t.dom),this._statPanels.push(t);let s=new c;s.showPanel(2),s.dom.style.cssText="position:absolute;top:50px;left:0px;z-index:110;",document.body.appendChild(s.dom),this._statPanels.push(s);let i=new c;this._drawPanel=i.addPanel(new c.Panel("draw","#0f0","#000")),i.showPanel(3),i.dom.style.cssText="position:absolute;top:100px;left:0px;z-index:110;",document.body.appendChild(i.dom),this._statPanels.push(i);let n=new c;this._trianglesPanel=n.addPanel(new c.Panel("poly","#0f0","#000")),n.showPanel(3),n.dom.style.cssText="position:absolute;top:150px;left:0px;z-index:110;",document.body.appendChild(n.dom),this._statPanels.push(n);let o=new c;this._geometryPanel=o.addPanel(new c.Panel("geo","#f00","#000")),o.showPanel(3),o.dom.style.cssText="position:absolute;top:200px;left:0px;z-index:110;",document.body.appendChild(o.dom),this._statPanels.push(o);let e=new c;this._texturePanel=e.addPanel(new c.Panel("tex","#f00","#000")),e.showPanel(3),e.dom.style.cssText="position:absolute;top:250px;left:0px;z-index:110;",document.body.appendChild(e.dom),this._statPanels.push(e);let p=new c;this._materialPanel=p.addPanel(new c.Panel("mat","#f00","#000")),p.showPanel(3),p.dom.style.cssText="position:absolute;top:300px;left:0px;z-index:110;",document.body.appendChild(p.dom),this._statPanels.push(p);let r=new c;this._qualityPanel=r.addPanel(new c.Panel("quality","#fff","#000")),r.showPanel(3),r.dom.style.cssText="position:absolute;top:350px;left:0px;z-index:110;",document.body.appendChild(r.dom),this._statPanels.push(r)}updateRenderInfo(t){this._drawPanel&&t.render.calls>0&&this._drawPanel.update(t.render.calls,500),this._trianglesPanel&&t.render.triangles>0&&this._trianglesPanel.update(t.render.triangles,1e4),this._geometryPanel&&t.memory.geometries>0&&this._geometryPanel.update(t.memory.geometries,1e4),this._texturePanel&&t.memory.textures>0&&this._texturePanel.update(t.memory.textures,1e4),this._materialPanel&&this._cacheHolder.materialCache.size>0&&this._materialPanel.update(this._cacheHolder.materialCache.size,1e3),this._statPanels.length>0&&this._statPanels.forEach(s=>s.update())}updateQualityInfo(t){if(this._qualityPanel&&t){const s=Object.values(T).indexOf(t);this._qualityPanel.update(s,5)}}}I([C],O.prototype,"_cacheHolder");export{O as default};
