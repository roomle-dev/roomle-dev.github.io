import{cO as r,cP as c,cQ as e,cR as i,cS as l,cT as p,cU as u,cV as g,cW as h,cX as d,cY as w,cZ as m,c_ as f,c$ as k,d0 as a,d1 as _}from"./index-vzMrgKlp.js";import{_ as C}from"./script-loader-qSelToN3-D4jzDzWM.js";import O from"./component-raycast-helper-CUQ3SA1k-DjWK7vxr.js";const U=[new e("logger",g),new e("rapi-access",h),new e("script-loader",C),new e("camera-control-3d",d),new e("camera-control",w),new e("global-init-data",m),new e("data-syncer",f),new e("configurator-scene-manager",k,a.CONTEXT),new e("configurator-view-model",_,a.CONTEXT),new e("component-raycast-helper",O,a.GLOBAL)];class T extends r{setupDependencies(){c.setup(U),this.lookup("planner-kernel-access",this._context).init(i.CONFIGURATOR),this.lookup("rapi-access",this._context),this.lookup("script-loader",this._context),this.lookup("logger",this._context)}cleanUpGlobals(){delete window.RoomleConfigurator}cleanUpDependencies(){const o=this.lookup("script-loader"),n=this.lookup("rapi-access");this.lookup("dom-helper");const t=this.lookup("configurator-scene-manager");o&&o.cleanUp(),n&&n.cleanUp(),t&&t.cleanUp()}setupGlobals(o){const{kernelInstance:n,kernelContainer:t,planObjectId:s}=o||{};l.init({kernelInstance:n,kernelContainer:t,planObjectId:s})}getApi(){return this._configurator}async bootFinished(){this._configurator=new p(this._context),this._configurator.getMain=()=>this,window.RoomleConfigurator||(window.RoomleConfigurator=this._configurator)}getContextName(){return u.CONFIGURATOR}}export{T as Configurator};
