const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/from-website-CktA6Icy-Bec3Lq-k.js","assets/touch-drag-DXJTOrk5-BxKVs6bP.js","assets/index-d3xgJwxe.js","assets/index-2qgJMud-.css","assets/from-custom-view-BdnViEhf-DEvZp1fn.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./index-d3xgJwxe.js";class D{_mainDomElement;_instance;_mode="website";_viewName="main";constructor(t,e,a,o){this._instance=t,this._mainDomElement=e,this._mode=a,this._viewName=o}async init(){return Promise.resolve()}}const l="rml-drag-in-styles",I="rml-drag-in-drag-element",E="rml-drag-in-overlay",n="rml-drag-in-drag-ghost",c="rml-drag-in-fade-in",u="rml-drag-in-fade-out",w={DISPLAY_NONE:"rml-display-none"},h=.5,_="250ms",p="forwards",b=`@keyframes ${c} {from{opacity: 0;}to {opacity: ${h};}}`,v=`@keyframes ${u} {from{opacity: ${h};}to {opacity: 0;}}`,$=`${c} ${_} ${p}`,L=`${u} ${_} ${p}`,C="https://res.cloudinary.com/roomle/image/upload/v1729679975/fallback_afpyqr.jpg",N=112,x=112;class f extends D{options={};_customDragSignal=new AbortController;_injectStyles(){if(!document.getElementById(l)){const t=document.createElement("style");t.type="text/css",t.id=l,t.innerHTML=`
        .${w.DISPLAY_NONE}{display:none}
        .${E}{position:absolute;top:0;left:0;width:100%;height:100%;z-index:999;}
        .${n}{position:absolute;top:0;left:0;width:1px;height:1px;z-index:999;pointer-events:none;background-color:transparent;}
        ${b}
        ${v}
      `,document.head.appendChild(t)}}_initializeDragGhost(){const t=this._mainDomElement.parentNode;let e=t.querySelector("."+n);e||(e=document.createElement("div"),e.classList.add(n),e.innerText=" ",t.appendChild(e))}constructor(t,e,a,o){super(t,e,a,o),this._mainDomElement=e,this._injectStyles(),this._initializeDragGhost()}async init(){if(await super.init(),this._mode==="website")try{const{DragInFromWebsiteStrategy:t}=await m(async()=>{const{DragInFromWebsiteStrategy:e}=await import("./from-website-CktA6Icy-Bec3Lq-k.js");return{DragInFromWebsiteStrategy:e}},__vite__mapDeps([0,1,2,3]));this._strategy=new t(this._instance,this._mainDomElement,{settings:this.options,mode:"website"})}catch(t){throw console.error('Could not load Dragin strategy "FromWebsite"'),t}else if(this._mode==="custom-view")try{const{DragInFromCustomViewStrategy:t}=await m(async()=>{const{DragInFromCustomViewStrategy:e}=await import("./from-custom-view-BdnViEhf-DEvZp1fn.js");return{DragInFromCustomViewStrategy:e}},__vite__mapDeps([4,1,2,3]));this._strategy=new t(this._instance,this._mainDomElement,this.options,this._viewName)}catch(t){throw console.error('Could not load Dragin strategy "FromCustomView"'),t}else throw new Error("Unsupported mode")}get isDragging(){return this._strategy.isDragging}dragStart(t,e,a="rml_id"){this._strategy.dragStart(t,e,a)}dragUpdate(t){this._strategy.dragUpdate(t)}dragEnd(){this._strategy.dragEnd()}touchStart(t,e,a="rml_id"){this._strategy.touchStart(t,e,a)}touchMove(t){this._strategy.touchMove(t)}touchEnd(){this._strategy.touchEnd()}dispose(){this._strategy.dispose()}beforeUpdateGhost(t){this._strategy.beforeUpdateGhost(t)}registerCustomDrag({customDragStart:t,customDragEnd:e,customDragUpdate:a,beforeUpdateGhost:o}){o&&this._strategy.beforeUpdateGhost(o);const s=this._customDragSignal.signal,d=r=>{r.target.getAttribute("data-rml-draggable")==="true"&&t(r)},i=r=>{this._strategy.releaseInput(r),this._strategy.isDragging&&e(r)},g=r=>{a(r)};document.querySelectorAll('[data-rml-draggable="true"]').forEach(r=>{r.draggable=!1}),document.addEventListener("mousedown",d,{signal:s}),document.addEventListener("mouseup",i,{signal:s}),document.addEventListener("mousemove",g,{signal:s}),document.addEventListener("mouseleave",i,{signal:s}),document.addEventListener("touchstart",d,{signal:s}),document.addEventListener("touchend",i,{signal:s}),document.addEventListener("touchmove",g,{signal:s})}unregisterCustomDrag(){this._customDragSignal.abort(),this._customDragSignal=new AbortController}releaseInput(t){this._strategy.releaseInput(t)}}const A=Object.freeze(Object.defineProperty({__proto__:null,DragIn:f},Symbol.toStringTag,{value:"Module"}));export{I as R,l as a,b,v as c,C as d,N as e,x as f,$ as g,L as h,E as i,w as j,n as k,A as l};
