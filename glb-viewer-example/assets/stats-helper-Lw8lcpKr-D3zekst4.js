import{Ki as e,wa as t}from"./index-BKXh1dA6.js";function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,`default`)?e.default:e}var r={exports:{}},i=r.exports,a;function o(){return a||(a=1,(function(e,t){(function(t,n){e.exports=n()})(i,function(){var e=function(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?`block`:`none`;r=e}var r=0,i=document.createElement(`div`);i.style.cssText=`position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000`,i.addEventListener(`click`,function(e){e.preventDefault(),n(++r%i.children.length)},!1);var a=(performance||Date).now(),o=a,s=0,c=t(new e.Panel(`FPS`,`#0ff`,`#002`)),l=t(new e.Panel(`MS`,`#0f0`,`#020`));if(self.performance&&self.performance.memory)var u=t(new e.Panel(`MB`,`#f08`,`#201`));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-a,200),e>o+1e3&&(c.update(1e3*s/(e-o),100),o=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:i,setMode:n}};return e.Panel=function(e,t,n){var r=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),s=80*o,c=48*o,l=3*o,u=2*o,d=3*o,f=15*o,p=74*o,m=30*o,h=document.createElement(`canvas`);h.width=s,h.height=c,h.style.cssText=`width:80px;height:48px`;var g=h.getContext(`2d`);return g.font=`bold `+9*o+`px Helvetica,Arial,sans-serif`,g.textBaseline=`top`,g.fillStyle=n,g.fillRect(0,0,s,c),g.fillStyle=t,g.fillText(e,l,u),g.fillRect(d,f,p,m),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(d,f,p,m),{dom:h,update:function(c,_){r=Math.min(r,c),i=Math.max(i,c),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,f),g.fillStyle=t,g.fillText(a(c)+` `+e+` (`+a(r)+`-`+a(i)+`)`,l,u),g.drawImage(h,d+o,f,p-o,m,d,f,p-o,m),g.fillRect(d+p-o,f,o,m),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(d+p-o,f,o,a((1-c/_)*m))}}},e})})(r)),r.exports}var s=n(o()),c=Object.defineProperty,l=(e,t,n,r)=>{for(var i=void 0,a=e.length-1,o;a>=0;a--)(o=e[a])&&(i=o(t,n,i)||i);return i&&c(t,n,i),i},u=class{constructor(){this._statPanels=[],this._init()}_init(){let e=new s;e.showPanel(0),e.dom.style.cssText=`position:absolute;top:0px;left:0px;z-index:110;`,document.body.appendChild(e.dom),this._statPanels.push(e);let t=new s;t.showPanel(2),t.dom.style.cssText=`position:absolute;top:50px;left:0px;z-index:110;`,document.body.appendChild(t.dom),this._statPanels.push(t);let n=new s;this._drawPanel=n.addPanel(new s.Panel(`draw`,`#0f0`,`#000`)),n.showPanel(3),n.dom.style.cssText=`position:absolute;top:100px;left:0px;z-index:110;`,document.body.appendChild(n.dom),this._statPanels.push(n);let r=new s;this._trianglesPanel=r.addPanel(new s.Panel(`poly`,`#0f0`,`#000`)),r.showPanel(3),r.dom.style.cssText=`position:absolute;top:150px;left:0px;z-index:110;`,document.body.appendChild(r.dom),this._statPanels.push(r);let i=new s;this._geometryPanel=i.addPanel(new s.Panel(`geo`,`#f00`,`#000`)),i.showPanel(3),i.dom.style.cssText=`position:absolute;top:200px;left:0px;z-index:110;`,document.body.appendChild(i.dom),this._statPanels.push(i);let a=new s;this._texturePanel=a.addPanel(new s.Panel(`tex`,`#f00`,`#000`)),a.showPanel(3),a.dom.style.cssText=`position:absolute;top:250px;left:0px;z-index:110;`,document.body.appendChild(a.dom),this._statPanels.push(a);let o=new s;this._materialPanel=o.addPanel(new s.Panel(`mat`,`#f00`,`#000`)),o.showPanel(3),o.dom.style.cssText=`position:absolute;top:300px;left:0px;z-index:110;`,document.body.appendChild(o.dom),this._statPanels.push(o);let c=new s;this._qualityPanel=c.addPanel(new s.Panel(`quality`,`#fff`,`#000`)),c.showPanel(3),c.dom.style.cssText=`position:absolute;top:350px;left:0px;z-index:110;`,document.body.appendChild(c.dom),this._statPanels.push(c)}updateRenderInfo(e){this._drawPanel&&e.render.calls>0&&this._drawPanel.update(e.render.calls,500),this._trianglesPanel&&e.render.triangles>0&&this._trianglesPanel.update(e.render.triangles,1e4),this._geometryPanel&&e.memory.geometries>0&&this._geometryPanel.update(e.memory.geometries,1e4),this._texturePanel&&e.memory.textures>0&&this._texturePanel.update(e.memory.textures,1e4),this._materialPanel&&this._cacheHolder.materialCache.size>0&&this._materialPanel.update(this._cacheHolder.materialCache.size,1e3),this._statPanels.length>0&&this._statPanels.forEach(e=>e.update())}updateQualityInfo(e){if(this._qualityPanel&&e){let n=Object.values(t).indexOf(e);this._qualityPanel.update(n,5)}}};l([e],u.prototype,`_cacheHolder`);export{u as default};