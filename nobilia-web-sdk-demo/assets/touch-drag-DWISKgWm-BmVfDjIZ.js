import{dA as o}from"./index-BowFTnF3.js";const l=500,c=10,n=100,r=15,s=(e,t=0)=>o(e)?{clientX:e.touches[t].clientX,clientY:e.touches[t].clientY}:{clientX:e.clientX,clientY:e.clientY},u=e=>e&&o(e)?e.touches.length>0:!0;class _{_touchDragTimeOut;_onTouchDragStart;_payload=null;_delay=l;_firstTouch=null;_lastTouch=null;_epsilon=c;constructor(t,{onTouchDragStart:h},i={}){this._payload=t,this._onTouchDragStart=h,this._delay=typeof i.delay=="number"?i.delay:l,this._epsilon=typeof i.epsilon=="number"?i.epsilon:c}onStart(t){u(t)&&(this._touchDragTimeOut||(this._firstTouch=s(t,o(t)?t.touches.length-1:0),this._touchDragTimeOut=setTimeout(()=>{this._clearTimeout(),this._lastTouch||(this._lastTouch=s(t)),this._checkXDistance(t)()},this._delay)))}onEnd(){this._resetTouches()}onMove(t){u(t)&&(this._lastTouch=s(t))}_clearTimeout(){this._touchDragTimeOut&&(clearTimeout(this._touchDragTimeOut),this._touchDragTimeOut=null)}_resetTouches(){this._clearTimeout(),this._lastTouch=null,this._firstTouch=null,this._payload=null}_checkXDistance(t){return()=>{if(!this._firstTouch||!this._lastTouch)return;let h=!1;h=Math.abs(this._firstTouch.clientX-this._lastTouch.clientX)<this._epsilon,h&&(this._onTouchDragStart(this._payload,t),this._resetTouches())}}}export{r as _,l,_ as n,n as r,c as u};
