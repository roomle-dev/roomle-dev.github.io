import{H as r,m as i,v as e,P as c,o as l,W as p,B as u,s as g,p as h,Q as w,A as m,e as d,E as f,w as k,J as s,I as _}from"./index-3eT8XdN2.js";import{_ as C}from"./script-loader-CQpf5Bmb-G9jVBCYI.js";import I from"./component-raycast-helper-DUdnYOZy-Bu6s6Xtp.js";const O=[new e("logger",g),new e("rapi-access",h),new e("script-loader",C),new e("camera-control-3d",w),new e("camera-control",m),new e("global-init-data",d),new e("data-syncer",f),new e("configurator-scene-manager",k,s.CONTEXT),new e("configurator-view-model",_,s.CONTEXT),new e("component-raycast-helper",I,s.GLOBAL)];class A extends r{setupDependencies(){i.setup(O),this.lookup("planner-kernel-access",this._context).init(c.CONFIGURATOR),this.lookup("rapi-access",this._context),this.lookup("script-loader",this._context),this.lookup("logger",this._context)}cleanUpGlobals(){delete window.RoomleConfigurator}cleanUpDependencies(){const o=this.lookup("script-loader"),n=this.lookup("rapi-access");this.lookup("dom-helper");const t=this.lookup("configurator-scene-manager");o&&o.cleanUp(),n&&n.cleanUp(),t&&t.cleanUp()}setupGlobals(o){const{kernelInstance:n,kernelContainer:t,planObjectId:a}=o||{};l.init({kernelInstance:n,kernelContainer:t,planObjectId:a})}getApi(){return this._configurator}async bootFinished(){this._configurator=new p(this._context),this._configurator.getMain=()=>this,window.RoomleConfigurator||(window.RoomleConfigurator=this._configurator)}getContextName(){return u.CONFIGURATOR}}export{A as Configurator};
