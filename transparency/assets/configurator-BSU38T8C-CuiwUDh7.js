import{i as r,p as i,_ as e,M as c,a as l,j as p,U as u,b as g,r as h,J as w,C as d,Q as m,w as f,c as k,d as a,E as C}from"./index-CBKByVQi.js";import{_}from"./script-loader-qSelToN3-Cbe2HZWk.js";import O from"./component-raycast-helper-CUQ3SA1k-mNcnyfh6.js";const U=[new e("logger",g),new e("rapi-access",h),new e("script-loader",_),new e("camera-control-3d",w),new e("camera-control",d),new e("global-init-data",m),new e("data-syncer",f),new e("configurator-scene-manager",k,a.CONTEXT),new e("configurator-view-model",C,a.CONTEXT),new e("component-raycast-helper",O,a.GLOBAL)];class T extends r{setupDependencies(){i.setup(U),this.lookup("planner-kernel-access",this._context).init(c.CONFIGURATOR),this.lookup("rapi-access",this._context),this.lookup("script-loader",this._context),this.lookup("logger",this._context)}cleanUpGlobals(){delete window.RoomleConfigurator}cleanUpDependencies(){const o=this.lookup("script-loader"),n=this.lookup("rapi-access");this.lookup("dom-helper");const t=this.lookup("configurator-scene-manager");o&&o.cleanUp(),n&&n.cleanUp(),t&&t.cleanUp()}setupGlobals(o){const{kernelInstance:n,kernelContainer:t,planObjectId:s}=o||{};l.init({kernelInstance:n,kernelContainer:t,planObjectId:s})}getApi(){return this._configurator}async bootFinished(){this._configurator=new p(this._context),this._configurator.getMain=()=>this,window.RoomleConfigurator||(window.RoomleConfigurator=this._configurator)}getContextName(){return u.CONFIGURATOR}}export{T as Configurator};
