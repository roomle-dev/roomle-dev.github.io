const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/from-website-C2cG-X9g-Ce04No7A.js","assets/touch-drag-DXJTOrk5-B8mmbwSu.js","assets/index-T8elxUKl.js","assets/index-CoHtp6aU.css","assets/from-custom-view-CobBUshK-CEP9Zl1m.js"])))=>i.map(i=>d[i]);
var w=Object.defineProperty;var b=(o,a,t)=>a in o?w(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t;var n=(o,a,t)=>b(o,typeof a!="symbol"?a+"":a,t);import{_ as u}from"./index-T8elxUKl.js";class v{constructor(a,t,e,r){n(this,"_mainDomElement");n(this,"_instance");n(this,"_mode","website");n(this,"_viewName","main");this._instance=a,this._mainDomElement=t,this._mode=e,this._viewName=r}async init(){return Promise.resolve()}}const h="rml-drag-in-styles",x="rml-drag-in-drag-element",f="rml-drag-in-overlay",m="rml-drag-in-drag-ghost",_="rml-drag-in-fade-in",p="rml-drag-in-fade-out",S={DISPLAY_NONE:"rml-display-none"},y=.5,D="250ms",E="forwards",I=`@keyframes ${_} {from{opacity: 0;}to {opacity: ${y};}}`,$=`@keyframes ${p} {from{opacity: ${y};}to {opacity: 0;}}`,A=`${_} ${D} ${E}`,F=`${p} ${D} ${E}`,U="https://res.cloudinary.com/roomle/image/upload/v1729679975/fallback_afpyqr.jpg",G=112,P=112;class L extends v{constructor(t,e,r,d){super(t,e,r,d);n(this,"options",{});n(this,"_customDragSignal",new AbortController);this._mainDomElement=e,this._injectStyles(),this._initializeDragGhost()}_injectStyles(){if(!document.getElementById(h)){const t=document.createElement("style");t.type="text/css",t.id=h,t.innerHTML=`
        .${S.DISPLAY_NONE}{display:none}
        .${f}{position:absolute;top:0;left:0;width:100%;height:100%;z-index:999;}
        .${m}{position:absolute;top:0;left:0;width:1px;height:1px;z-index:999;pointer-events:none;background-color:transparent;}
        ${I}
        ${$}
      `,document.head.appendChild(t)}}_initializeDragGhost(){const t=this._mainDomElement.parentNode;let e=t.querySelector("."+m);e||(e=document.createElement("div"),e.classList.add(m),e.innerText=" ",t.appendChild(e))}async init(){if(await super.init(),this._mode==="website")try{const{DragInFromWebsiteStrategy:t}=await u(async()=>{const{DragInFromWebsiteStrategy:e}=await import("./from-website-C2cG-X9g-Ce04No7A.js");return{DragInFromWebsiteStrategy:e}},__vite__mapDeps([0,1,2,3]));this._strategy=new t(this._instance,this._mainDomElement,{settings:this.options,mode:"website"})}catch(t){throw console.error('Could not load Dragin strategy "FromWebsite"'),t}else if(this._mode==="custom-view")try{const{DragInFromCustomViewStrategy:t}=await u(async()=>{const{DragInFromCustomViewStrategy:e}=await import("./from-custom-view-CobBUshK-CEP9Zl1m.js");return{DragInFromCustomViewStrategy:e}},__vite__mapDeps([4,1,2,3]));this._strategy=new t(this._instance,this._mainDomElement,this.options,this._viewName)}catch(t){throw console.error('Could not load Dragin strategy "FromCustomView"'),t}else throw new Error("Unsupported mode")}get isDragging(){return this._strategy.isDragging}dragStart(t,e,r="rml_id"){this._strategy.dragStart(t,e,r)}dragUpdate(t){this._strategy.dragUpdate(t)}dragEnd(){this._strategy.dragEnd()}touchStart(t,e,r="rml_id"){this._strategy.touchStart(t,e,r)}touchMove(t){this._strategy.touchMove(t)}touchEnd(){this._strategy.touchEnd()}dispose(){this._strategy.dispose()}beforeUpdateGhost(t){this._strategy.beforeUpdateGhost(t)}registerCustomDrag({customDragStart:t,customDragEnd:e,customDragUpdate:r,beforeUpdateGhost:d}){d&&this._strategy.beforeUpdateGhost(d);const i=this._customDragSignal.signal,l=s=>{s.target.getAttribute("data-rml-draggable")==="true"&&t(s)},g=s=>{this._strategy.releaseInput(s),this._strategy.isDragging&&e(s)},c=s=>{r(s)};document.querySelectorAll('[data-rml-draggable="true"]').forEach(s=>{s.draggable=!1}),document.addEventListener("mousedown",l,{signal:i}),document.addEventListener("mouseup",g,{signal:i}),document.addEventListener("mousemove",c,{signal:i}),document.addEventListener("mouseleave",g,{signal:i}),document.addEventListener("touchstart",l,{signal:i}),document.addEventListener("touchend",g,{signal:i}),document.addEventListener("touchmove",c,{signal:i})}unregisterCustomDrag(){this._customDragSignal.abort(),this._customDragSignal=new AbortController}releaseInput(t){this._strategy.releaseInput(t)}}const j=Object.freeze(Object.defineProperty({__proto__:null,DragIn:L},Symbol.toStringTag,{value:"Module"}));export{x as R,h as a,I as b,$ as c,U as d,G as e,P as f,A as g,F as h,f as i,S as j,m as k,j as l};
