import{Ki as e,Y as t,o as n}from"./index-BKXh1dA6.js";var r=Object.defineProperty,i=(e,t,n,i)=>{for(var a=void 0,o=e.length-1,s;o>=0;o--)(s=e[o])&&(a=s(t,n,a)||a);return a&&r(t,n,a),a},a={},o={};function s(e,t,r,i){if(a[e])return r();if(t.id&&o[t.id])return i(Error(`There is already a script with ID "`+t.id+`"`));n.start(`load_`+t.id.replace(/-/g,`_`));let s=document.createElement(`script`);s.async=!1,s.src=e,s.id=t.id,s.onload=()=>{a[e]=!0,o[t.id]=!0,Object.defineProperty(r,`name`,{value:`resolve-`+t.id}),r()},s.onerror=e=>{i(e)},document.body.appendChild(s)}var c=class{constructor(e){this._creator_=e}fetch(e,n){return this._singlePromiseFactory.create(t.FETCH_SCRIPT,e,(t,r)=>{s(e,n,t,r)})}loadScripts(e){let t=[];return e.forEach(e=>{let n=this.fetch(e.name,{id:e.id});t.push(n)}),Promise.all(t)}cleanUp(){for(let e in o)if(o.hasOwnProperty(e)){let t=document.getElementById(e);t&&t.parentElement.removeChild(t)}a={},o={}}};i([e],c.prototype,`_singlePromiseFactory`);export{c as t};