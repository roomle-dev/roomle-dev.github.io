import{a_ as s,aP as n,R as c,L as o,aW as h}from"./index-B6gMdnHJ.js";class _{constructor(){this._currentInnerRadius=0}init(i,e,t){this._drawingGroup=i,this._continuousDrawingManager=e,this._kernelZoomFactor=t,this.update()}update(){this._initCircle(),this._updateCircle()}_initCircle(){if(this._circleMesh)return;const i=70/this._kernelZoomFactor/1e3,e=i+i/50,t=new s(i,e,32),r=new n({color:10066329,side:c});this._circleMesh=new o(t,r),this._circleMesh.name="Circle",this._circleMesh.rotation.set(Math.PI/2,0,0),this._circleMesh.visible=this._continuousDrawingManager.shouldShowCircle(),this._drawingGroup.add(this._circleMesh)}_updateCircle(){if(!this._circleMesh)return;const i=70/this._kernelZoomFactor/1e3;if(i!==this._currentInnerRadius){const t=i+i/50;this._circleMesh.geometry=new s(i,t,32)}const e=h(this._continuousDrawingManager.getStartPoint());e.y=5,this._circleMesh.position.copy(e),this._circleMesh.visible=this._continuousDrawingManager.shouldShowCircle(),this._currentInnerRadius=i}setKernelZoomFactor(i){this._kernelZoomFactor=i}endDrawing(){this._drawingGroup.remove(this._circleMesh),this._circleMesh=null}}export{_ as default};
