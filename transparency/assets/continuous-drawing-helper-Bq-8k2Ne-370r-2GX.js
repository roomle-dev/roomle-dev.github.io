import{Rt as e,T as t,ar as n,ha as r,xr as i}from"./index-DtPgIJ8D.js";var a=class{constructor(){this._currentInnerRadius=0}init(e,t,n){this._drawingGroup=e,this._continuousDrawingManager=t,this._kernelZoomFactor=n,this.update()}update(){this._initCircle(),this._updateCircle()}_initCircle(){if(this._circleMesh)return;let n=70/this._kernelZoomFactor/1e3;this._circleMesh=new e(new t(n,n+n/50,32),new r({color:10066329,side:2})),this._circleMesh.name=`Circle`,this._circleMesh.rotation.set(Math.PI/2,0,0),this._circleMesh.visible=this._continuousDrawingManager.shouldShowCircle(),this._drawingGroup.add(this._circleMesh)}_updateCircle(){if(!this._circleMesh)return;let e=70/this._kernelZoomFactor/1e3;if(e!==this._currentInnerRadius){let n=e+e/50;this._circleMesh.geometry=new t(e,n,32)}let n=i(this._continuousDrawingManager.getStartPoint());n.y=5,this._circleMesh.position.copy(n),this._circleMesh.visible=this._continuousDrawingManager.shouldShowCircle(),this._currentInnerRadius=e}setKernelZoomFactor(e){this._kernelZoomFactor=e}endDrawing(){this._drawingGroup.remove(this._circleMesh),this._circleMesh=null}};export{a as default};